---
title: "P8150 homework 2"
author: Yu He
Date: 10/6/2021
output: github_document
---

## homework 2 Problem 1
initla package

```{r, echo = FALSE, message=FALSE}
library(tidyverse)
library(readxl)
library(haven)
```

import and manipulate Mr. Trash Wheel data

```{r}
Mtw_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = 1, range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  filter(!(month %in% c("January Total", "February Total", "March Total", "April Total", "May Total", "June Total", "July Total", "August Total", "September Total", "October Total", "November  Total", "December Total", "Grand Total"))) %>% 
  mutate(sports_balls = round(sports_balls))
  
```

import and manipulate Mr. Trash Wheel precipitation data for 2018 and 2019

```{r}
Twp2019_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = "2019 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019)
  

Twp2018_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = "2018 Precipitation",  range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018)

Twp_df <- left_join(Twp2019_df, Twp2018_df, by = "month") %>% 
  mutate(month = month.name)
  
```

The Trash_Wheel_Collection data set include information collected from May, 2014 to January, 2021. It provides information about variables includes `r names(Mtw_df)`.

The average weight of trash collected each month is `r mean(pull(Mtw_df, weight_tons))`, and the average volume of trash collected each month is `r mean(pull(Mtw_df, volume_cubic_yards))`. In addition, the cigarette butts has the highest amount. which is `r sum(pull(Mtw_df, cigarette_butts))`.

The max precipitation of 2018 happened in October, which is `r max(pull(Twp_df, total.x))`. And the max precipitation of 2019 happened in September, which is `r max(pull(Twp_df, total.y))`. The total precipitation in 2018 is `r sum(pull(Twp_df, total.x))`. And the median number of sports balls in a dumpster in 2019 is`r median(pull(filter(Mtw_df, year == 2019), sports_balls))`.

## homework 2 Problem 2

```{r}
pols_month <- read_csv("fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, c("year", "month", "day")) %>% 
  mutate(month = month.name[as.numeric(month)])
```

































