P8150 homework 2
================
Yu He

## homework 2 Problem 1

initla package

import and manipulate Mr. Trash Wheel data

``` r
Mtw_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = 1, range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  filter(!(month %in% c("January Total", "February Total", "March Total", "April Total", "May Total", "June Total", "July Total", "August Total", "September Total", "October Total", "November  Total", "December Total", "Grand Total"))) %>% 
  mutate(sports_balls = round(sports_balls))
```

import and manipulate Mr. Trash Wheel precipitation data for 2018 and
2019

``` r
Twp2019_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = "2019 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019)
  

Twp2018_df <- read_excel("Trash_Wheel_Collection.xlsx", sheet = "2018 Precipitation",  range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018)

Twp_df <- bind_rows(Twp2019_df, Twp2018_df) %>% 
  mutate(month = month.name[as.numeric(month)])
```

The Trash\_Wheel\_Collection data set include information collected from
May, 2014 to January, 2021. It provides information about variables
includes dumpster, month, year, date, weight\_tons,
volume\_cubic\_yards, plastic\_bottles, polystyrene, cigarette\_butts,
glass\_bottles, grocery\_bags, chip\_bags, sports\_balls,
homes\_powered.

The average weight of trash collected each month is 3.6327247, and the
average volume of trash collected each month is 17.3764045. In addition,
the cigarette butts has the highest amount. which is 1.244212^{7}.

The max precipitation happened in September, 2019, which is 10.47. The
total precipitation in 2018 is 70.33. And the median number of sports
balls in a dumpster in 2019 is9.

## homework 2 Problem 2

Part 1 clean the data in pols-month.

``` r
pols_month <- read_csv("fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, c("year", "month", "day")) %>% 
  mutate(month = month.name[as.numeric(month)]) %>% 
  mutate(president = prez_gop - prez_dem) %>% 
  mutate(president = recode(president, "1" = "gop", "2" = "gop", "-1" = "dem")) %>% 
  select(-prez_dem) %>% 
  select(-prez_gop) %>% 
  select(-day)
```

    ## Rows: 822 Columns: 9

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

Part 2 clean the data in snp.csv

``` r
snp_df = read_csv("fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>% 
  
  
  
  

  
  
  
  
  
  separate(date, c("year", "month", "day")) %>% 
  mutate(month = month.name[as.numeric(month)])
```

    ## Rows: 787 Columns: 2

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

Part 3 tidy the unemployment data with pols and snp data

``` r
unemployment_df = read_csv("fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() 
```

    ## Rows: 68 Columns: 13

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

Add description:

## homework 2 problem 3

Part 1 load and tidy the data

``` r
pb_names = read_csv("Popular_Baby_Names.csv") %>% 
  janitor::clean_names() %>% 
  mutate(ethnicity = recode(ethnicity, "WHITE NON HISP" = "WHITE NON HISPANIC", "BLACK NON HISP" = "BLACK NON HISPANIC", "ASIAN AND PACI" = "ASIAN AND PACIFIC ISLANDER")) %>% 
  mutate(childs_first_name = tolower(childs_first_name)) %>% 
  distinct() 
```

    ## Rows: 19418 Columns: 6

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

Part 2(a) produce table for Baby’s name Oliva

``` r
filter(pb_names, childs_first_name == "olivia") %>%
  
  pivot_wider(names_from = year_of_birth, values_from = ethnicity)
```

    ## # A tibble: 24 x 10
    ##    gender childs_first_name count  rank `2016` `2015` `2014` `2013` `2012` `2011`
    ##    <chr>  <chr>             <dbl> <dbl> <chr>  <chr>  <chr>  <chr>  <chr>  <chr> 
    ##  1 FEMALE olivia              172     1 ASIAN~ <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  2 FEMALE olivia               49     8 BLACK~ <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  3 FEMALE olivia              108    13 HISPA~ <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  4 FEMALE olivia              230     1 WHITE~ <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  5 FEMALE olivia              188     1 <NA>   ASIAN~ <NA>   <NA>   <NA>   <NA>  
    ##  6 FEMALE olivia               82     4 <NA>   BLACK~ <NA>   <NA>   <NA>   <NA>  
    ##  7 FEMALE olivia               94    16 <NA>   HISPA~ <NA>   <NA>   <NA>   <NA>  
    ##  8 FEMALE olivia              225     1 <NA>   WHITE~ <NA>   <NA>   <NA>   <NA>  
    ##  9 FEMALE olivia              141     1 <NA>   <NA>   ASIAN~ <NA>   <NA>   <NA>  
    ## 10 FEMALE olivia               52     8 <NA>   <NA>   BLACK~ <NA>   <NA>   <NA>  
    ## # ... with 14 more rows

Part 2(b) produce table for male children

``` r
filter(pb_names, gender == "MALE") %>% 
  
  pivot_wider(names_from = year_of_birth, values_from = ethnicity)
```

    ## Warning: Values are not uniquely identified; output will contain list-cols.
    ## * Use `values_fn = list` to suppress this warning.
    ## * Use `values_fn = length` to identify where the duplicates arise
    ## * Use `values_fn = {summary_fun}` to summarise duplicates

    ## # A tibble: 5,920 x 10
    ##    gender childs_first_name count  rank `2016` `2015` `2014` `2013` `2012` `2011`
    ##    <chr>  <chr>             <dbl> <dbl> <list> <list> <list> <list> <list> <list>
    ##  1 MALE   ethan               193     1 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  2 MALE   ryan                160     2 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  3 MALE   muhammad            157     3 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  4 MALE   lucas               148     4 <chr ~ <NULL> <NULL> <chr ~ <NULL> <NULL>
    ##  5 MALE   jayden              138     5 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  6 MALE   aiden               133     6 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  7 MALE   daniel               81     7 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  8 MALE   evan                 77     8 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ##  9 MALE   jason                76     9 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ## 10 MALE   liam                 76     9 <chr ~ <NULL> <NULL> <NULL> <NULL> <NULL>
    ## # ... with 5,910 more rows

Part 3 produce a scatter plot for male

``` r
filter(pb_names, year_of_birth == "2016") %>% 
  filter(ethnicity == "WHITE NON HISPANIC") %>% 
  filter(gender == "MALE") %>% 
  ggplot(aes(x = rank, y = count)) + geom_point()
```

![](P8105_hw2_yh3430_files/figure-gfm/unnamed-chunk-10-1.png)<!-- -->
